{% extends 'layout.html.j2' %}

{% block content %}
{% if error %}
    <p><b>ERROR:</b> {{ error }}</p>
{% endif %}

{% if new_link %}
    <p id='newLink'><b>Link created:</b> <a href="/{{ new_link }}">https://fastl.ink/{{ new_link }}</a>
    <button id="cb" data-clipboard-text="https://fastl.ink/{{ new_link }}">Copy link</button></p>
    <script src="https://cdn.rawgit.com/zenorocha/clipboard.js/v1.7.1/dist/clipboard.min.js"></script>
    <script>
        var b= document.getElementById('cb'); var c = new Clipboard(b);
        c.on('success', function(e) { b.innerText = 'Copied!' }); c.on('error', function(e) { console.log(e); });
    </script>
{% endif %}

<form action='/' method='POST'>
    <input id='link' name='link' placeholder='Shorten a link...' />
    <button type='submit'>Create Shortlink</button>
</form>

{% endblock %}
